{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Forest area (% of land) â€” ASEAN (1992, 2000, 2010, 2018)",
  "vconcat": [
    {
      "hconcat": [
        {
          "title": "1992",
          "projection": { "type": "equalEarth" },
          "width": 360,
          "height": 265,
          "layer": [
            {
              "data": {
                "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_2/js/ne_10m_asean.topojson",
                "format": { "type": "topojson", "feature": "ne_10m_admin_0_countries" }
              },
              "mark": { "type": "geoshape", "fill": "#efefef", "stroke": "white", "strokeWidth": 0.5 }
            },
            {
              "data": { "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_1/data/forest_area_asean_long.csv" },
              "transform": [
                { "filter": "datum.Year == 1992" },
                {
                  "filter": "indexof(['BRN','KHM','IDN','LAO','MMR','MYS','PHL','SGP','THA','VNM'], datum['Country Code']) >= 0"
                },
                { "calculate": "datum['ForestArea'] / datum['Land Area(Sqkm)'] * 100", "as": "ForestArea_percent" },
                {
                  "lookup": "Country Code",
                  "from": {
                    "data": {
                      "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_2/js/ne_10m_asean.topojson",
                      "format": { "type": "topojson", "feature": "ne_10m_admin_0_countries" }
                    },
                    "key": "properties.ISO_A3",
                    "fields": ["geometry", "properties"]
                  }
                }
              ],
              "mark": { "type": "geoshape" },
              "encoding": {
                "shape": { "field": "geometry", "type": "geojson" },
                "color": {
                  "field": "ForestArea_percent",
                  "type": "quantitative",
                  "scale": {
                    "type": "threshold",
                    "domain": [30, 50, 60],
                    "range": ["#edf8e9", "#bae4b3", "#74c476", "#238b45"]
                  },
                  "legend": null
                }
              }
            }
          ]
        },

        {
          "title": "2000",
          "projection": { "type": "equalEarth" },
          "width": 360,
          "height": 265,
          "layer": [
            {
              "data": {
                "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_2/js/ne_10m_asean.topojson",
                "format": { "type": "topojson", "feature": "ne_10m_admin_0_countries" }
              },
              "mark": { "type": "geoshape", "fill": "#efefef", "stroke": "white", "strokeWidth": 0.5 }
            },
            {
              "data": { "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_1/data/forest_area_asean_long.csv" },
              "transform": [
                { "filter": "datum.Year == 2000" },
                {
                  "filter": "indexof(['BRN','KHM','IDN','LAO','MMR','MYS','PHL','SGP','THA','VNM'], datum['Country Code']) >= 0"
                },
                { "calculate": "datum['ForestArea'] / datum['Land Area(Sqkm)'] * 100", "as": "ForestArea_percent" },
                {
                  "lookup": "Country Code",
                  "from": {
                    "data": {
                      "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_2/js/ne_10m_asean.topojson",
                      "format": { "type": "topojson", "feature": "ne_10m_admin_0_countries" }
                    },
                    "key": "properties.ISO_A3",
                    "fields": ["geometry", "properties"]
                  }
                }
              ],
              "mark": { "type": "geoshape" },
              "encoding": {
                "shape": { "field": "geometry", "type": "geojson" },
                "color": {
                  "field": "ForestArea_percent",
                  "type": "quantitative",
                  "scale": {
                    "type": "threshold",
                    "domain": [30, 50, 60],
                    "range": ["#edf8e9", "#bae4b3", "#74c476", "#238b45"]
                  },
                  "legend": null
                }
              }
            }
          ]
        }
      ]
    },

    {
      "hconcat": [
        {
          "title": "2010",
          "projection": { "type": "equalEarth" },
          "width": 360,
          "height": 265,
          "layer": [
            {
              "data": {
                "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_2/js/ne_10m_asean.topojson",
                "format": { "type": "topojson", "feature": "ne_10m_admin_0_countries" }
              },
              "mark": { "type": "geoshape", "fill": "#efefef", "stroke": "white", "strokeWidth": 0.5 }
            },
            {
              "data": { "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_1/data/forest_area_asean_long.csv" },
              "transform": [
                { "filter": "datum.Year == 2010" },
                {
                  "filter": "indexof(['BRN','KHM','IDN','LAO','MMR','MYS','PHL','SGP','THA','VNM'], datum['Country Code']) >= 0"
                },
                { "calculate": "datum['ForestArea'] / datum['Land Area(Sqkm)'] * 100", "as": "ForestArea_percent" },
                {
                  "lookup": "Country Code",
                  "from": {
                    "data": {
                      "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_2/js/ne_10m_asean.topojson",
                      "format": { "type": "topojson", "feature": "ne_10m_admin_0_countries" }
                    },
                    "key": "properties.ISO_A3",
                    "fields": ["geometry", "properties"]
                  }
                }
              ],
              "mark": { "type": "geoshape" },
              "encoding": {
                "shape": { "field": "geometry", "type": "geojson" },
                "color": {
                  "field": "ForestArea_percent",
                  "type": "quantitative",
                  "scale": {
                    "type": "threshold",
                    "domain": [30, 50, 60],
                    "range": ["#edf8e9", "#bae4b3", "#74c476", "#238b45"]
                  },
                  "legend": null
                }
              }
            }
          ]
        },

        {
          "title": "2018",
          "projection": { "type": "equalEarth" },
          "width": 360,
          "height": 265,
          "layer": [
            {
              "data": {
                "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_2/js/ne_10m_asean.topojson",
                "format": { "type": "topojson", "feature": "ne_10m_admin_0_countries" }
              },
              "mark": { "type": "geoshape", "fill": "#efefef", "stroke": "white", "strokeWidth": 0.5 }
            },
            {
              "data": { "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_1/data/forest_area_asean_long.csv" },
              "transform": [
                { "filter": "datum.Year == 2018" },
                {
                  "filter": "indexof(['BRN','KHM','IDN','LAO','MMR','MYS','PHL','SGP','THA','VNM'], datum['Country Code']) >= 0"
                },
                { "calculate": "datum['ForestArea'] / datum['Land Area(Sqkm)'] * 100", "as": "ForestArea_percent" },
                {
                  "lookup": "Country Code",
                  "from": {
                    "data": {
                      "url": "https://raw.githubusercontent.com/Xin-999/visualisation-vegalite/refs/heads/main/Part_2/js/ne_10m_asean.topojson",
                      "format": { "type": "topojson", "feature": "ne_10m_admin_0_countries" }
                    },
                    "key": "properties.ISO_A3",
                    "fields": ["geometry", "properties"]
                  }
                }
              ],
              "mark": { "type": "geoshape" },
              "encoding": {
                "shape": { "field": "geometry", "type": "geojson" },
                "color": {
                  "field": "ForestArea_percent",
                  "type": "quantitative",
                  "scale": {
                    "type": "threshold",
                    "domain": [30, 50, 60],
                    "range": ["#edf8e9", "#bae4b3", "#74c476", "#238b45"]
                  },
                  "legend": null
                }
              }
            }
          ]
        }
      ]
    }
  ],

  "resolve": { "scale": { "color": "shared" } },
  "config": { "view": { "stroke": null } }
}
